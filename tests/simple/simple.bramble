load("github.com/maxmcd/bramble/lib/seed", "seed")
load("github.com/maxmcd/bramble/lib/stdenv", "gcc")


def simple():
    s = seed()
    return derivation(
        name="simple",
        builder=s.out + "/bin/sh",
        env={"seed": s},
        args=["./simple_builder.sh"],
        sources=["./simple.c", "simple_builder.sh"],
    )


def simple2():
    s = seed()
    return derivation(builder=_simple2, sources=["./simple.c", "simple_builder.sh"])


def _simple2(ctx):
    gcc("-o", os.getenv("output") + "/simple", "./simple.c")
